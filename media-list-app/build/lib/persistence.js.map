{"version":3,"sources":["../../js/lib/persistence.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,WAAD,CAAP,EAAsB,gBAAoB;AAAA,MAAjB,UAAiB,QAAjB,UAAiB;;AACxC,WAAS,eAAT,GAA2B;AACzB,QAAI;AACF,UAAM,OAAO,aAAa,OAAb,CAAqB,UAArB,KAAoC,IAAjD;AACA,aAAO,KAAK,KAAL,CAAW,IAAX,CAAP;AACD,KAHD,CAGE,OAAO,KAAP,EAAc;AACd,cAAQ,KAAR,CAAc,+BAAd,EAA+C,KAA/C;AACA,aAAO,EAAP;AACD;AACF;;AAED,WAAS,SAAT,GAA+B;AAAA,QAAZ,KAAY,yDAAJ,EAAI;;AAC7B,QAAI;AACF,mBAAa,OAAb,CAAqB,UAArB,EAAiC,KAAK,SAAL,CAAe,KAAf,CAAjC;AACD,KAFD,CAEE,OAAO,KAAP,EAAc;AACd,cAAQ,KAAR,CAAc,qDAAd,EAAqE,KAArE;AACD;AACF;;AAED,SAAO;AACL,oCADK;AAEL;AAFK,GAAP;AAID,CAvBD","file":"persistence.js","sourcesContent":["define(['constants'], ({ STORAGE_ID }) => {\n  function getInitialState() {\n    try {\n      const data = localStorage.getItem(STORAGE_ID) || '{}';\n      return JSON.parse(data);\n    } catch (error) {\n      console.error('error while read localStorage', error);\n      return {};\n    }\n  }\n\n  function saveState(state = {}) {\n    try {\n      localStorage.setItem(STORAGE_ID, JSON.stringify(state));\n    } catch (error) {\n      console.error('localStorage save failed (safari private mode, eh?)', error);\n    }\n  }\n\n  return {\n    getInitialState,\n    saveState,\n  };\n});\n"]}