{"version":3,"sources":["../../js/components/BrowsePanel.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA,OAAO,CACL,QADK,EAEL,iBAFK,EAGL,oBAHK,EAIL,cAJK,EAKL,mBALK,EAML,mBANK,EAOL,WAPK,CAAP,EAQG,UAAC,CAAD,EAAI,UAAJ,EAAgB,gBAAhB,EAAkC,KAAlC,EAAyC,MAAzC,EAAiD,MAAjD,QAAwF;AAAA,MAA7B,sBAA6B,QAA7B,sBAA6B;;AAAA,MAEnF,WAFmF;AAAA;;AAIvF,yBAAY,KAAZ,EAAmB;AAAA;;AAAA,iGACX,KADW;;AAEjB,YAAK,KAAL,gBACK,MAAM,YADX;AAFiB;AAKlB;;AATsF;AAAA;AAAA,2CAWlE;AAAA,YACX,iBADW,GAC2B,gBAD3B,CACX,iBADW;AAAA,YACQ,cADR,GAC2B,gBAD3B,CACQ,cADR;;AAEnB,YAAM,QAAQ,EAAE,KAAK,IAAP,CAAd;AACA,cAAM,IAAN,CAAW,gBAAX,EAA6B,EAA7B,CAAgC,OAAhC,EAAyC,iBAAS;AAChD,gBAAM,cAAN;AACA,gBAAM,QAAN,CAAe,mBAAf;AACD,SAHD;AAIA,cAAM,IAAN,CAAW,qBAAX,EAAkC,EAAlC,CAAqC,OAArC,EAA8C,iBAAS;AACrD,gBAAM,cAAN;AACA,gBAAM,QAAN,CAAe,gBAAf;AACD,SAHD;AAID;AAtBsF;AAAA;AAAA,0CAwBnE;AAAA;;AAClB,cAAM,SAAN,CAAgB,YAAM;AAAA,gCACkC,MAAM,QAAN,EADlC;;AAAA,cACZ,MADY,mBACZ,MADY;AAAA,cACJ,aADI,mBACJ,aADI;AAAA,cACW,MADX,mBACW,MADX;AAAA,cACmB,UADnB,mBACmB,UADnB;;AAEpB,iBAAK,QAAL,CAAc,uBAAuB,EAAE,cAAF,EAAU,4BAAV,EAAyB,cAAzB,EAAiC,sBAAjC,EAAvB,CAAd;AACD,SAHD;AAID;AA7BsF;AAAA;AAAA,4CA+BjE,QA/BiE,EA+BvD,QA/BuD,EA+B7C;AACxC,eAAO,SAAS,UAAT,KAAwB,KAAK,KAAL,CAAW,UAA1C;AACD;AAjCsF;AAAA;AAAA,+BAmC9E;AAAA,qBAC+C,KAAK,KADpD;AAAA,YACC,MADD,UACC,MADD;AAAA,YACS,aADT,UACS,aADT;AAAA,YACwB,MADxB,UACwB,MADxB;AAAA,YACgC,UADhC,UACgC,UADhC;;AAEP,YAAM,cAAc,eAAe,WAAnC;AACA,eACE;AAAA;AAAA,YAAK,SAAM,cAAX;AACE;AAAA;AAAA,cAAI,SAAM,MAAV;AACE;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,GAAR,EAAY,SAAO,eAAe,CAAC,WAAD,GAAe,SAAf,GAA2B,EAA1C,CAAnB;AAAA;AAAA;AAAJ,aADF;AAEE;AAAA;AAAA;AAAI;AAAA;AAAA,kBAAG,MAAK,GAAR,EAAY,SAAO,oBAAoB,cAAc,SAAd,GAA0B,EAA9C,CAAnB;AAAA;AAAA;AAAJ;AAFF,WADF;AAKG,WAAC,WAAD,GACC;AAAA;AAAA,cAAK,SAAM,oBAAX;AACE,4BAAC,MAAD,IAAQ,QAAQ,MAAhB,EAAwB,eAAe,aAAvC,GADF;AAEE,4BAAC,MAAD,IAAQ,QAAQ,MAAhB;AAFF,WADD,GAKC;AAVJ,SADF;AAcD;AApDsF;;AAAA;AAAA,IAE/D,WAAW,SAFoD;;AAuDzF,SAAO,WAAP;AACD,CAhED","file":"BrowsePanel.js","sourcesContent":["define([\n  'jquery',\n  'lib/virtual-dom',\n  'actions/media-list',\n  'stores/store',\n  'components/Filter',\n  'components/Sorter',\n  'lib/utils',\n], ($, VirtualDom, MediaListActions, Store, Filter, Sorter, { objectWithoutUndefined }) => {\n\n  class BrowsePanel extends VirtualDom.Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        ...props.browsingData,\n      };\n    }\n\n    componentDidUpdate() {\n      const { setToNormalBrowse, setToWatchlist } = MediaListActions;\n      const $this = $(this.$dom);\n      $this.find('ul a.menu-home').on('click', event => {\n        event.preventDefault();\n        Store.dispatch(setToNormalBrowse());\n      });\n      $this.find('ul a.menu-watchlist').on('click', event => {\n        event.preventDefault();\n        Store.dispatch(setToWatchlist());\n      });\n    }\n\n    componentDidMount() {\n      Store.subscribe(() => {\n        const { sortBy, sortDirection, filter, browseMode } = Store.getState();\n        this.setState(objectWithoutUndefined({ sortBy, sortDirection, filter, browseMode }));\n      });\n    }\n\n    shouldComponentUpdate(newProps, newState) {\n      return newState.browseMode !== this.state.browseMode;\n    }\n\n    render() {\n      const { sortBy, sortDirection, filter, browseMode } = this.state;\n      const isWatchlist = browseMode === 'watchlist';\n      return (\n        <div class=\"browse-panel\">\n          <ul class=\"menu\">\n            <li><a href=\"#\" class={\"menu-home\" + (!isWatchlist ? \" active\" : \"\")}>Home</a></li>\n            <li><a href=\"#\" class={\"menu-watchlist\" + (isWatchlist ? \" active\" : \"\")}>Watchlist</a></li>\n          </ul>\n          {!isWatchlist ?\n            <div class=\"presenting-options\">\n              <Sorter sortBy={sortBy} sortDirection={sortDirection}/>\n              <Filter filter={filter} />\n            </div>\n          : null}\n        </div>\n      );\n    }\n  }\n\n  return BrowsePanel;\n});\n"]}